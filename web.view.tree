$mol_svg $mol_view
	dom_name \svg
	dom_name_space \http://www.w3.org/2000/svg
	font_size 16
	font_family \
	style_size *

$mol_svg_root $mol_svg
	dom_name \svg
	attr *
		^
		viewBox <= view_box \0 0 100 100
		preserveAspectRatio <= aspect \xMidYMid

$mol_svg_path $mol_svg
	dom_name \path
	attr *
		^
		d <= geometry \


$mol_icon $mol_svg_root
	view_box \0 0 24 24
	minimal_width 16
	minimal_height 16
	sub /
		<= Path $mol_svg_path
			geometry <= path \

$mol_icon_spider $mol_icon path \M21.29 16.71L22.71 15.29L19.5 12.11L16.5 11.26L18.41 11L22.6 7.8L21.4 6.2L17.59 9.05L14.91 9.5L18.11 6.31L17 1.76L15 2.24L15.86 5.69L14.76 6.83A3 3 0 0 0 9.24 6.83L8.11 5.69L9 2.24L7 1.76L5.89 6.31L9.09 9.5L6.4 9.05L2.6 6.2L1.4 7.8L5.6 11L7.46 11.31L4.46 12.16L1.29 15.29L2.71 16.71L5.5 13.89L7.87 13.22L4 16.54V22H6V17.46L7.56 16.12A4.5 4.5 0 0 0 16.44 16.12L18 17.46V22H20V16.54L16.13 13.22L18.5 13.89Z

$mol_icon_spider_web $mol_icon path \M13.62,13.28L15.26,15.54C15.29,15 15.38,14.47 15.56,13.93C15.74,13.37 16,12.86 16.3,12.41L13.62,13.28M17.77,19C17.75,17.68 17.95,16.27 18.41,14.85C18.88,13.42 19.56,12.14 20.36,11.09L18.32,11.75C17.54,12.26 16.87,13.14 16.5,14.23C16.17,15.29 16.18,16.36 16.5,17.22L17.77,19M19.25,21C18.75,21.46 18.21,21.86 17.63,22.2L17.31,21.76C15.9,21 14.04,20.5 12,20.5C9.96,20.5 8.1,21 6.69,21.76L6.37,22.2C5.79,21.86 5.25,21.46 4.75,21L5,20.69C5.33,19.08 5.22,17.12 4.58,15.14C3.94,13.19 2.9,11.56 1.71,10.46L1.27,10.32C1.42,9.66 1.63,9 1.89,8.41L2.29,8.54C3.92,8.37 5.74,7.65 7.43,6.43C9.09,5.22 10.32,3.73 11,2.26V1.79L12,1.75L13,1.79V2.21C13.67,3.71 14.91,5.23 16.6,6.45C18.26,7.66 20.06,8.37 21.67,8.56L22.11,8.41C22.37,9 22.58,9.66 22.73,10.32L22.23,10.5C21.04,11.58 20,13.21 19.37,15.16C18.74,17.09 18.62,19 18.92,20.57L19.25,21M11,11.37V8.5C10.66,8.92 10.26,9.32 9.78,9.67C9.29,10 8.77,10.29 8.25,10.5L11,11.37M11,4.22C10.25,5.31 9.24,6.35 8,7.24C6.78,8.14 5.46,8.78 4.18,9.16L6.15,9.8C7.11,9.88 8.22,9.56 9.19,8.86C10.13,8.18 10.76,7.27 11,6.36V4.22M13,11.37L15.74,10.5C15.23,10.3 14.72,10.03 14.25,9.69C13.76,9.33 13.34,8.92 13,8.5V11.37M19.8,9.16C18.53,8.78 17.23,8.15 16,7.26C14.77,6.36 13.76,5.31 13,4.2V6.27C13.22,7.21 13.86,8.17 14.84,8.88C15.77,9.56 16.83,9.87 17.77,9.82L19.8,9.16M10.38,13.28L7.64,12.39C7.95,12.84 8.2,13.35 8.38,13.91C8.57,14.5 8.66,15.06 8.68,15.62L10.38,13.28M3.58,11.07C4.38,12.12 5.06,13.4 5.53,14.83C6,16.29 6.2,17.74 6.17,19.08L7.38,17.41C7.76,16.5 7.8,15.36 7.43,14.22C7.07,13.12 6.4,12.24 5.61,11.73L3.58,11.07M12,14.45L10.35,16.72C10.87,16.58 11.42,16.5 12,16.5C12.58,16.5 13.13,16.58 13.65,16.72L12,14.45M7.84,20.18C9.08,19.75 10.5,19.5 12,19.5C13.5,19.5 14.92,19.75 16.16,20.18L14.88,18.42C14.16,17.85 13.13,17.5 12,17.5C10.87,17.5 9.84,17.85 9.12,18.42L7.84,20.18Z

$apxu_samosbor_map_icon_stairs $mol_icon 
	path \M0.5 40.5V36.2895H7.86842V26.8158H17.3421V17.3421H26.8158V7.86842H36.2895V0.5H40.5V12.0789H31.0263V21.5526H21.5526V31.0263H12.0789V40.5H0.5Z
	view_box \0 0 41 41

$apxu_samosbor_map_icon_cleaner $mol_icon
	path \M27.5929 0.817734L17.5955 11.1809L20.2004 13.7705L30.2711 3.38228C31.1598 1.42513 29.2897 -0.212085 27.5929 0.817734ZM13.6941 12.2007C13.7918 12.1232 13.8919 12.0558 13.992 11.9983L14.0286 11.9783C14.6023 11.6583 15.2029 11.6683 15.8328 12.1107L17.5833 13.8554L17.6101 13.8829L19.2214 15.4876C19.8879 16.1825 20.0368 16.9574 19.6682 17.8147L14.9441 30.5C6.36507 28.7428 0.417851 22.4814 0.500858 12.9306C5.19565 14.3354 9.7171 14.7953 13.6941 12.2007Z
	view_box \0 0 31 31

$apxu_samosbor_map_icon_factory $mol_icon
	path \M28.4689 6.50021L19.657 13.4819V6.50021L10.4615 13.7857L9.69547 0.5H2.03205L0.5 30.5H30.5L28.4689 6.50021ZM11.9053 22.9416H8.28594V18.8926H11.9053V22.9416ZM22.186 22.9416H18.5656V18.8926H22.186V22.9416Z
	view_box \0 0 31 31

$apxu_samosbor_map_icon_repairman $mol_icon
	path \M27.8449 12.418C30.4201 10.1558 30.8504 7.585 30.2745 5.41791C30.2575 5.24576 30.215 5.10115 30.0598 4.99217L29.5415 4.58107C29.4517 4.50051 29.3307 4.4602 29.2096 4.47215C29.0876 4.48316 28.9769 4.54445 28.9051 4.63967L25.9241 8.39148C25.8409 8.50228 25.7066 8.56544 25.5657 8.56087L24.4838 8.63781C24.3911 8.63505 24.3012 8.603 24.2284 8.54622L22.1384 6.83142C22.0533 6.76457 21.9975 6.66935 21.9832 6.56406L21.8536 5.61555C21.8385 5.51119 21.8659 5.40496 21.9303 5.31982L24.7211 1.64946C24.8478 1.48006 24.8233 1.24663 24.6663 1.10471L23.9891 0.592955C23.8567 0.473014 23.7063 0.490416 23.5011 0.527975C21.5736 0.896939 18.2825 2.70326 17.4474 5.20082C16.7116 7.39902 16.9679 8.949 16.9679 8.949C16.9679 10.1877 16.5471 11.3816 16.0297 11.8833L1.48825 25.3975C1.45986 25.4231 1.43244 25.4478 1.40502 25.4744C0.203926 26.6371 0.205802 28.525 1.36623 29.6474C2.52665 30.7707 4.50509 30.801 5.70619 29.6373C5.762 29.5833 5.81593 29.5274 5.86604 29.4698L19.8885 14.7957C21.6135 13.3098 25.0285 14.8936 27.8449 12.418Z
	view_box \0 0 31 31

$apxu_samosbor_map_icon_sinking $mol_icon
	path \M0.5 30.5V27.5C1.45 27.5 2.15625 27.25 2.61875 26.75C3.08125 26.25 4.05 26 5.525 26C7 26 7.9625 26.25 8.4125 26.75C8.8625 27.25 9.5625 27.5 10.5125 27.5C11.4625 27.5 12.1625 27.25 12.6125 26.75C13.0625 26.25 14.025 26 15.5 26C16.925 26 17.8938 26.25 18.4062 26.75C18.9188 27.25 19.625 27.5 20.525 27.5C21.475 27.5 22.175 27.25 22.625 26.75C23.075 26.25 24.0375 26 25.5125 26C26.9875 26 27.95 26.25 28.4 26.75C28.85 27.25 29.55 27.5 30.5 27.5V30.5C29.05 30.5 28.0875 30.25 27.6125 29.75C27.1375 29.25 26.4375 29 25.5125 29C24.5875 29 23.8875 29.25 23.4125 29.75C22.9375 30.25 21.975 30.5 20.525 30.5C19.075 30.5 18.1063 30.25 17.6188 29.75C17.1313 29.25 16.425 29 15.5 29C14.55 29 13.85 29.25 13.4 29.75C12.95 30.25 11.9875 30.5 10.5125 30.5C9.0375 30.5 8.075 30.25 7.625 29.75C7.175 29.25 6.475 29 5.525 29C4.6 29 3.9 29.25 3.425 29.75C2.95 30.25 1.975 30.5 0.5 30.5ZM10.5125 23.75C9.0875 23.75 8.125 23.5 7.625 23C7.125 22.5 6.425 22.25 5.525 22.25C4.65 22.25 3.95 22.5 3.425 23C2.9 23.5 1.925 23.75 0.5 23.75V20.75C1.45 20.75 2.15 20.5 2.6 20C3.05 19.5 4.0125 19.25 5.4875 19.25C5.6375 19.25 5.7875 19.2563 5.9375 19.2688C6.0875 19.2812 6.225 19.3 6.35 19.325L4.925 14.075L2.8625 16.775L0.5 14.9L12.1625 0.5L29.45 7.1L28.3625 9.9125L25.2125 8.6375L28.25 19.925C28.6 20.125 28.9438 20.3125 29.2813 20.4875C29.6188 20.6625 30.025 20.75 30.5 20.75V23.75C29.075 23.725 28.1125 23.4688 27.6125 22.9813C27.1125 22.4938 26.4125 22.25 25.5125 22.25C24.5625 22.25 23.8625 22.5 23.4125 23C22.9625 23.5 22 23.75 20.525 23.75C19.1 23.75 18.1313 23.5 17.6188 23C17.1063 22.5 16.4 22.25 15.5 22.25C14.55 22.25 13.85 22.5 13.4 23C12.95 23.5 11.9875 23.75 10.5125 23.75ZM10.5125 20.75C11.2625 20.75 11.8438 20.575 12.2563 20.225C12.6688 19.875 13.3 19.6 14.15 19.4L12.7625 14.3L18.575 12.7625L20.675 20.7125C21.45 20.6625 22.0625 20.4313 22.5125 20.0188C22.9625 19.6063 23.775 19.3625 24.95 19.2875L21.725 7.25L13.1375 4.1L7.25 11.15L9.8375 20.675C9.9375 20.7 10.0438 20.7188 10.1562 20.7313C10.2688 20.7438 10.3875 20.75 10.5125 20.75Z
	view_box \0 0 31 31

$apxu_samosbor_map_icon_roof $mol_icon
	path \M11.4091 25.5V16.6765H19.5909V25.5H11.4091ZM14.1364 22.5588H16.8636V19.6176H14.1364V22.5588ZM2.13636 15.2059L0.5 12.8529L15.5 0.5L20.9545 4.98529V1.97059H25.0455V8.36765L30.5 12.8529L28.8636 15.2059L15.5 4.21324L2.13636 15.2059Z
	view_box \0 0 31 26

$apxu_samosbor_map_icon_elevator $mol_icon
	path \M9.62131 33.3646H16.288V24.4757H18.5102V18.9201C18.5102 17.6979 18.075 16.6516 17.2046 15.7812C16.3343 14.9109 15.288 14.4757 14.0658 14.4757H11.8435C10.6213 14.4757 9.57501 14.9109 8.70464 15.7812C7.83427 16.6516 7.39909 17.6979 7.39909 18.9201V24.4757H9.62131V33.3646ZM12.9546 12.2535C13.7324 12.2535 14.3898 11.985 14.9269 11.4479C15.4639 10.9109 15.7324 10.2535 15.7324 9.47569C15.7324 8.69792 15.4639 8.04051 14.9269 7.50347C14.3898 6.96644 13.7324 6.69792 12.9546 6.69792C12.1769 6.69792 11.5195 6.96644 10.9824 7.50347C10.4454 8.04051 10.1769 8.69792 10.1769 9.47569C10.1769 10.2535 10.4454 10.9109 10.9824 11.4479C11.5195 11.985 12.1769 12.2535 12.9546 12.2535ZM22.9546 17.809H34.0658L28.5102 8.92014L22.9546 17.809ZM28.5102 31.1424L34.0658 22.2535H22.9546L28.5102 31.1424ZM5.17687 40.0312C3.95464 40.0312 2.90835 39.5961 2.03798 38.7257C1.16761 37.8553 0.732422 36.809 0.732422 35.5868V4.47569C0.732422 3.25347 1.16761 2.20718 2.03798 1.33681C2.90835 0.466435 3.95464 0.03125 5.17687 0.03125H36.288C37.5102 0.03125 38.5565 0.466435 39.4269 1.33681C40.2972 2.20718 40.7324 3.25347 40.7324 4.47569V35.5868C40.7324 36.809 40.2972 37.8553 39.4269 38.7257C38.5565 39.5961 37.5102 40.0312 36.288 40.0312H5.17687ZM5.17687 35.5868H36.288V4.47569H5.17687V35.5868Z
	view_box \0 0 41 41

$apxu_samosbor_map_icon_abandoned $mol_icon_spider_web

$apxu_samosbor_map_icon_theatre $mol_icon
	path \M25.0455 8.75C25.4318 8.75 25.7557 8.60625 26.017 8.31875C26.2784 8.03125 26.4091 7.675 26.4091 7.25C26.4091 6.825 26.2784 6.46875 26.017 6.18125C25.7557 5.89375 25.4318 5.75 25.0455 5.75C24.6591 5.75 24.3352 5.89375 24.0739 6.18125C23.8125 6.46875 23.6818 6.825 23.6818 7.25C23.6818 7.675 23.8125 8.03125 24.0739 8.31875C24.3352 8.60625 24.6591 8.75 25.0455 8.75ZM19.5909 8.75C19.9773 8.75 20.3011 8.60625 20.5625 8.31875C20.8239 8.03125 20.9545 7.675 20.9545 7.25C20.9545 6.825 20.8239 6.46875 20.5625 6.18125C20.3011 5.89375 19.9773 5.75 19.5909 5.75C19.2045 5.75 18.8807 5.89375 18.6193 6.18125C18.358 6.46875 18.2273 6.825 18.2273 7.25C18.2273 7.675 18.358 8.03125 18.6193 8.31875C18.8807 8.60625 19.2045 8.75 19.5909 8.75ZM18.9091 13.85H25.7273C25.7273 12.975 25.3807 12.2812 24.6875 11.7688C23.9943 11.2563 23.2045 11 22.3182 11C21.4318 11 20.642 11.2563 19.9489 11.7688C19.2557 12.2812 18.9091 12.975 18.9091 13.85ZM8.68182 30.5C6.40909 30.5 4.47727 29.625 2.88636 27.875C1.29545 26.125 0.5 24 0.5 21.5V11H16.8636V21.5C16.8636 24 16.0682 26.125 14.4773 27.875C12.8864 29.625 10.9545 30.5 8.68182 30.5ZM8.68182 27.5C10.1818 27.5 11.4659 26.9125 12.5341 25.7375C13.6023 24.5625 14.1364 23.15 14.1364 21.5V14H3.22727V21.5C3.22727 23.15 3.76136 24.5625 4.82955 25.7375C5.89773 26.9125 7.18182 27.5 8.68182 27.5ZM22.3182 20C21.7273 20 21.142 19.9312 20.5625 19.7938C19.983 19.6562 19.4318 19.45 18.9091 19.175V15.65C19.4091 16.075 19.9489 16.4062 20.5284 16.6437C21.108 16.8813 21.7045 17 22.3182 17C23.8182 17 25.1023 16.4125 26.1705 15.2375C27.2386 14.0625 27.7727 12.65 27.7727 11V3.5H16.8636V8.75H14.1364V0.5H30.5V11C30.5 13.5 29.7045 15.625 28.1136 17.375C26.5227 19.125 24.5909 20 22.3182 20ZM5.95455 19.25C6.34091 19.25 6.66477 19.1063 6.92614 18.8188C7.1875 18.5312 7.31818 18.175 7.31818 17.75C7.31818 17.325 7.1875 16.9688 6.92614 16.6813C6.66477 16.3938 6.34091 16.25 5.95455 16.25C5.56818 16.25 5.24432 16.3938 4.98295 16.6813C4.72159 16.9688 4.59091 17.325 4.59091 17.75C4.59091 18.175 4.72159 18.5312 4.98295 18.8188C5.24432 19.1063 5.56818 19.25 5.95455 19.25ZM11.4091 19.25C11.7955 19.25 12.1193 19.1063 12.3807 18.8188C12.642 18.5312 12.7727 18.175 12.7727 17.75C12.7727 17.325 12.642 16.9688 12.3807 16.6813C12.1193 16.3938 11.7955 16.25 11.4091 16.25C11.0227 16.25 10.6989 16.3938 10.4375 16.6813C10.1761 16.9688 10.0455 17.325 10.0455 17.75C10.0455 18.175 10.1761 18.5312 10.4375 18.8188C10.6989 19.1063 11.0227 19.25 11.4091 19.25ZM8.68182 24.35C9.56818 24.35 10.358 24.0938 11.0511 23.5812C11.7443 23.0688 12.0909 22.375 12.0909 21.5H5.27273C5.27273 22.375 5.61932 23.0688 6.3125 23.5812C7.00568 24.0938 7.79545 24.35 8.68182 24.35Z
	view_box \0 0 31 31

$apxu_samosbor_map_icon_party $mol_icon
	path \M31.1666 30.1042H29.3958V15.5833C29.3958 12.155 27.5116 10.2708 24.0833 10.2708H18.0625V8.52835C18.8841 8.72668 19.7058 8.84001 20.5416 8.84001C21.8733 8.84001 23.205 8.58501 24.48 8.07501C24.8766 7.91918 25.1458 7.52251 25.1458 7.08335V2.83335C25.1458 2.47918 24.9758 2.15335 24.6783 1.95501C24.3808 1.75668 24.0125 1.71418 23.6866 1.84168C21.6608 2.64918 19.4225 2.64918 17.3966 1.84168C17.0708 1.71418 16.7025 1.75668 16.405 1.95501C16.1075 2.15335 15.9375 2.47918 15.9375 2.83335V7.08335V10.2708H9.91665C6.48831 10.2708 4.60415 12.155 4.60415 15.5833V30.1042H2.83331C2.25248 30.1042 1.77081 30.5858 1.77081 31.1667C1.77081 31.7475 2.25248 32.2292 2.83331 32.2292H5.66665H28.3333H31.1666C31.7475 32.2292 32.2291 31.7475 32.2291 31.1667C32.2291 30.5858 31.7475 30.1042 31.1666 30.1042ZM10.2566 30.1042H6.72915V18.0625H10.2566V30.1042ZM15.9233 30.1042H12.3816V18.0625H15.9233V30.1042ZM21.59 30.1042H18.0483V18.0625H21.59V30.1042ZM27.2708 30.1042H23.715V18.0625H27.2708V30.1042Z
	view_box \0 0 34 34

$apxu_samosbor_map_icon_hospital $mol_icon
	view_box \0 0 34 34
	sub /
		<= Path1 $mol_svg_path
			geometry <= path \M31.1666 30.1042H2.83331C2.25248 30.1042 1.77081 30.5858 1.77081 31.1667C1.77081 31.7475 2.25248 32.2292 2.83331 32.2292H31.1666C31.7475 32.2292 32.2291 31.7475 32.2291 31.1667C32.2291 30.5858 31.7475 30.1042 31.1666 30.1042Z
		<= Path2 $mol_svg_path
			geometry <= path2 \M24.0833 2.83334H9.91667C5.66667 2.83334 4.25 5.36918 4.25 8.50001V31.1667H12.75V22.5817C12.75 21.845 13.345 21.25 14.0817 21.25H19.9325C20.655 21.25 21.2642 21.845 21.2642 22.5817V31.1667H29.7642V8.50001C29.75 5.36918 28.3333 2.83334 24.0833 2.83334ZM20.5417 13.1042H18.0625V15.5833C18.0625 16.1642 17.5808 16.6458 17 16.6458C16.4192 16.6458 15.9375 16.1642 15.9375 15.5833V13.1042H13.4583C12.8775 13.1042 12.3958 12.6225 12.3958 12.0417C12.3958 11.4608 12.8775 10.9792 13.4583 10.9792H15.9375V8.50001C15.9375 7.91918 16.4192 7.43751 17 7.43751C17.5808 7.43751 18.0625 7.91918 18.0625 8.50001V10.9792H20.5417C21.1225 10.9792 21.6042 11.4608 21.6042 12.0417C21.6042 12.6225 21.1225 13.1042 20.5417 13.1042Z

$apxu_samosbor_map_icon_warehouse $mol_icon
	view_box \0 0 34 34
	path \M31.1666 30.1042H29.75V14.1383C29.75 13.26 29.3533 12.4383 28.6591 11.9L26.9166 10.54L26.8883 7.06917C26.8883 6.29 26.2508 5.66667 25.4716 5.66667H20.6408L18.7425 4.19333C17.7225 3.38583 16.2775 3.38583 15.2575 4.19333L5.34081 11.9C4.64665 12.4383 4.24998 13.26 4.24998 14.1242L4.17915 30.1042H2.83331C2.25248 30.1042 1.77081 30.5858 1.77081 31.1667C1.77081 31.7475 2.25248 32.2292 2.83331 32.2292H31.1666C31.7475 32.2292 32.2291 31.7475 32.2291 31.1667C32.2291 30.5858 31.7475 30.1042 31.1666 30.1042ZM9.20831 18.0625V15.9375C9.20831 15.1583 9.84581 14.5208 10.625 14.5208H13.4583C14.2375 14.5208 14.875 15.1583 14.875 15.9375V18.0625C14.875 18.8417 14.2375 19.4792 13.4583 19.4792H10.625C9.84581 19.4792 9.20831 18.8417 9.20831 18.0625ZM20.5416 30.1042H13.4583V26.2083C13.4583 25.0325 14.4075 24.0833 15.5833 24.0833H18.4166C19.5925 24.0833 20.5416 25.0325 20.5416 26.2083V30.1042ZM24.7916 18.0625C24.7916 18.8417 24.1541 19.4792 23.375 19.4792H20.5416C19.7625 19.4792 19.125 18.8417 19.125 18.0625V15.9375C19.125 15.1583 19.7625 14.5208 20.5416 14.5208H23.375C24.1541 14.5208 24.7916 15.1583 24.7916 15.9375V18.0625Z

$apxu_samosbor_map_icon_liquidator $mol_icon
	sub /
		<= path1 $mol_svg_path
			geometry \M8.72648 15.4518C8.41396 15.139 7.99001 14.9632 7.54789 14.9631C7.10577 14.9629 6.6817 15.1384 6.36896 15.451C6.05622 15.7635 5.88044 16.1875 5.88028 16.6297C5.88013 17.0718 6.05561 17.496 6.36813 17.8087L6.9898 18.4288L0.999746 24.4195C0.67976 24.7396 0.5 25.1737 0.5 25.6263C0.5 26.079 0.67976 26.5131 0.999746 26.8332L4.16644 30.0002C4.48649 30.3202 4.92054 30.5 5.37312 30.5C5.82569 30.5 6.25974 30.3202 6.57979 30.0002L12.5682 24.0111L13.1882 24.6312C13.343 24.786 13.5269 24.9087 13.7291 24.9924C13.9314 25.0762 14.1482 25.1192 14.3671 25.1191C14.586 25.119 14.8028 25.0758 15.005 24.992C15.2072 24.9081 15.391 24.7853 15.5457 24.6304C15.7004 24.4755 15.8232 24.2917 15.9069 24.0894C15.9906 23.8871 16.0336 23.6703 16.0335 23.4513C16.0335 23.2324 15.9903 23.0156 15.9064 22.8134C15.8226 22.6111 15.6997 22.4274 15.5449 22.2726L8.72648 15.4518Z
		<= path2 $mol_svg_path
			geometry \M19.3332 0.5L10.5248 13.7149L17.2849 20.4774L30.5 11.668V0.5H19.3332Z
	view_box \0 0 31 31

$apxu_samosbor_map_icon_ladder $mol_icon
	path \M2.01543 30C1.33579 30 0.79924 29.7847 0.405768 29.3542C0.012296 28.9236 -0.0950145 28.4583 0.0838364 27.9583L9.63447 1.16667C9.77755 0.805556 10.0279 0.520833 10.3856 0.3125C10.7433 0.104167 11.1547 0 11.6197 0C12.3351 0 12.8896 0.215278 13.283 0.645833C13.6765 1.07639 13.7838 1.54167 13.605 2.04167L12.5319 5H24.6043L25.9457 1.16667C26.0888 0.805556 26.3481 0.520833 26.7237 0.3125C27.0993 0.104167 27.5196 0 27.9846 0C28.6642 0 29.2008 0.215278 29.5942 0.645833C29.9877 1.07639 30.095 1.54167 29.9162 2.04167L20.3655 28.8333C20.2224 29.1944 19.9721 29.4792 19.6144 29.6875C19.2567 29.8958 18.8453 30 18.3803 30C17.6649 30 17.1104 29.7847 16.717 29.3542C16.3235 28.9236 16.2162 28.4583 16.395 27.9583L17.4681 25H5.39571L4.05433 28.8333C3.91125 29.1944 3.65191 29.4792 3.27632 29.6875C2.90074 29.8958 2.48044 30 2.01543 30ZM9.58082 13.3333H21.5996L23.3702 8.33333H11.3514L9.58082 13.3333ZM6.62978 21.6667H18.6486L20.4192 16.6667H8.4004L6.62978 21.6667Z
	view_box \0 0 30 30

$apxu_samosbor_map_icon_arrow_down $mol_icon
	path \M17 23.45L24.65 15.8L22.2275 13.42L17 18.6475L11.7725 13.42L9.35 15.8L17 23.45ZM17 34.5C14.6483 34.5 12.4383 34.0537 10.37 33.1613C8.30167 32.2688 6.5025 31.0575 4.9725 29.5275C3.4425 27.9975 2.23125 26.1983 1.33875 24.13C0.44625 22.0617 0 19.8517 0 17.5C0 15.1483 0.44625 12.9383 1.33875 10.87C2.23125 8.80167 3.4425 7.0025 4.9725 5.4725C6.5025 3.9425 8.30167 2.73125 10.37 1.83875C12.4383 0.94625 14.6483 0.5 17 0.5C19.3517 0.5 21.5617 0.94625 23.63 1.83875C25.6983 2.73125 27.4975 3.9425 29.0275 5.4725C30.5575 7.0025 31.7688 8.80167 32.6613 10.87C33.5537 12.9383 34 15.1483 34 17.5C34 19.8517 33.5537 22.0617 32.6613 24.13C31.7688 26.1983 30.5575 27.9975 29.0275 29.5275C27.4975 31.0575 25.6983 32.2688 23.63 33.1613C21.5617 34.0537 19.3517 34.5 17 34.5ZM17 31.1C20.7967 31.1 24.0125 29.7825 26.6475 27.1475C29.2825 24.5125 30.6 21.2967 30.6 17.5C30.6 13.7033 29.2825 10.4875 26.6475 7.8525C24.0125 5.2175 20.7967 3.9 17 3.9C13.2033 3.9 9.9875 5.2175 7.3525 7.8525C4.7175 10.4875 3.4 13.7033 3.4 17.5C3.4 21.2967 4.7175 24.5125 7.3525 27.1475C9.9875 29.7825 13.2033 31.1 17 31.1Z
	view_box \0 0 34 35

$apxu_samosbor_map_icon_arrow_left $apxu_samosbor_map_icon_arrow_down
	style *
		transform \rotate(90deg)

$apxu_samosbor_map_icon_arrow_right $apxu_samosbor_map_icon_arrow_down
	style *
		transform \rotate(-90deg)

$apxu_samosbor_map_icon_arrow_up $apxu_samosbor_map_icon_arrow_down
	style *
		transform \rotate(180deg)

$apxu_samosbor_map_icon_min_floor $apxu_samosbor_map_icon_arrow_down

$apxu_samosbor_map_icon_max_floor $apxu_samosbor_map_icon_min_floor
	style *
		transform \rotate(180deg)

$apxu_samosbor_map_icon_generator $mol_icon
	path \M7 36.5L8.75 23.9H0L15.75 0.5H19.25L17.5 14.9H28L10.5 36.5H7Z
	view_box \0 0 28 37

$apxu_samosbor_map_icon_trash $mol_icon
	path \M18.5 4.83333L17.4989 20.1831C17.4113 21.5275 17.3674 22.1997 17.0834 22.7094C16.8332 23.1582 16.456 23.5189 16.0014 23.7442C15.485 24 14.8259 24 13.5077 24H8.49221C7.17409 24 6.51502 24 5.99861 23.7442C5.54396 23.5189 5.16674 23.1582 4.91665 22.7094C4.63259 22.1997 4.58875 21.5275 4.50107 20.1831L3.5 4.83333M1 4.83333H21M16 4.83333L15.6617 3.79587C15.3339 2.79049 15.1699 2.2878 14.8659 1.91614C14.5974 1.58794 14.2526 1.33391 13.8631 1.17733C13.422 1 12.9037 1 11.867 1H10.133C9.09625 1 8.578 1 8.13689 1.17733C7.7474 1.33391 7.4026 1.58794 7.13411 1.91614C6.83006 2.2878 6.66615 2.79049 6.3383 3.79587L6 4.83333M13.5 9.94444V18.8889M8.5 9.94444V18.8889
	view_box \0 0 22 25

$apxu_samosbor_map_icon_shop $mol_icon
	path \M6.40375 6.5625L7.3925 0H2.25L0.10125 5.625C0.035 5.825 0 6.0325 0 6.25C0 7.63 1.4375 8.75 3.21375 8.75C4.85125 8.75 6.205 7.795 6.40375 6.5625ZM11.25 8.75C13.025 8.75 14.4637 7.63 14.4637 6.25C14.4637 6.19875 14.46 6.1475 14.4575 6.09875L13.8212 0H8.67875L8.04125 6.09375C8.03829 6.14578 8.03663 6.19788 8.03625 6.25C8.03625 7.63 9.475 8.75 11.25 8.75ZM17.5 10.0575V15H5V10.065C4.4525 10.2625 3.85 10.375 3.21375 10.375C2.97 10.375 2.73375 10.3463 2.5 10.3138V18.25C2.5 19.2125 3.28625 20 4.2475 20H18.25C19.2125 20 20 19.2113 20 18.25V10.315C19.7637 10.3513 19.5253 10.3717 19.2863 10.3762C18.6767 10.3756 18.0721 10.2677 17.5 10.0575ZM22.4 5.625L20.2487 0H15.1075L16.095 6.5525C16.2875 7.79 17.6413 8.75 19.2863 8.75C21.0613 8.75 22.5 7.63 22.5 6.25C22.5 6.0325 22.465 5.825 22.4 5.625Z
	view_box \0 0 23 20

$apxu_samosbor_map_icon_direction $mol_icon
	path \M8.0625 0.829064L0.5625 6.8291C0.387095 6.96953 0.245481 7.14758 0.148121 7.3501C0.0507603 7.55261 0.000140415 7.7744 0 7.9991L0 16.9992L0.00900006 17.1672C0.0389123 17.4339 0.139851 17.6877 0.301286 17.9022C0.462722 18.1166 0.678741 18.2838 0.92681 18.3863C1.17488 18.4888 1.44591 18.5229 1.71163 18.4849C1.97735 18.447 2.22802 18.3385 2.4375 18.1707L9 12.9191L15.5625 18.1692C15.783 18.3457 16.049 18.4564 16.3297 18.4885C16.6104 18.5206 16.8944 18.4728 17.1491 18.3505C17.4038 18.2283 17.6188 18.0366 17.7693 17.7975C17.9199 17.5584 17.9998 17.2817 18 16.9992V7.9991C17.9999 7.7744 17.9492 7.55261 17.8519 7.3501C17.7545 7.14758 17.6129 6.96953 17.4375 6.8291L9.9375 0.829064C9.67146 0.616058 9.34081 0.5 9 0.5C8.65919 0.5 8.32854 0.616058 8.0625 0.829064Z
	view_box \0 0 18 19

$mol_speck $mol_view
	minimal_width 12
	attr *
		^
		mol_theme <= theme \$mol_theme_accent
	style *
		^
		minHeight \1em
	sub /
		<= value null

$mol_button $mol_view
	enabled true
	click?event null
	event_click?event null
	event *
		^
		click?event <=> event_activate?event null
		dblclick?event <=> clicks?event null
		keydown?event <=> event_key_press?event null 
	attr *
		^
		disabled <= disabled false
		role \button
		tabindex <= tab_index 0
		title <= hint_safe <= hint \
	sub /$mol_view_content
		<= title
	Speck $mol_speck
		value <= error \

$mol_button_typed $mol_button
	minimal_height 40
	minimal_width 40

$mol_button_minor $mol_button_typed

$mol_check $mol_button_minor
	attr *
		^
		mol_check_checked <= checked? false
		aria-checked <= aria_checked \false
		role <= aria_role \checkbox
	sub /$mol_view_content
		<= Icon null
		<= label /
			<= Title $mol_view
				sub /
					<= title \

$mol_check_list $mol_view
	dictionary *
	Option* $mol_check
		checked? <=> option_checked*? false
		label <= option_label* /
			<= option_title* \
		enabled <= option_enabled* <= enabled true
		hint <= option_hint* \
		minimal_height 24
	options *
	keys /string
	sub <= items /$mol_check

$mol_switch $mol_check_list
	value? \

$mol_list $mol_view
	render_visible_only true
	render_over 0
	sub <= rows /$mol_view
	Empty $mol_view
	Gap_before $mol_view style * paddingTop <= gap_before 0
	Gap_after $mol_view style * paddingTop <= gap_after 0
	item_height_min* 1
	item_width_min* 1
	view_window /
		0
		0

$mol_card $mol_list
	attr *
		^
		mol_card_status_type <= status \
	rows /$mol_view
		<= Content $mol_view
			sub <= content /$mol_view_content
				<= title
		<= Status $mol_view
			minimal_height 30
			sub /
				<= status_text <= status \

$mol_hotkey $mol_plugin
	event *
		^
		keydown?event <=> keydown?event null
	key *
	mod_ctrl false
	mod_alt false
	mod_shift false

$mol_icon_chevron $mol_icon path \M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z

$mol_icon_chevron_left $mol_icon path \M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z

$mol_string $mol_view
	dom_name \input
	enabled true
	minimal_height 40
	autocomplete false
	selection? /number
		0
		0
	auto /
		<= selection_watcher null
		<= error_report null
	field *
		^
		disabled <= disabled false
		value <= value_changed? <=> value? \
		placeholder <= hint_visible <= hint \
		spellcheck <= spellcheck true
		autocomplete <= autocomplete_native \
		selectionEnd <= selection_end 0
		selectionStart <= selection_start 0
		inputMode <= keyboard \text
		enterkeyhint <= enter \go
	attr *
		^
		maxlength <= length_max +Infinity
		type <= type? \text
	event *
		^
		input?event <=> event_change?event null
	plugins /
		<= Submit $mol_hotkey
			mod_ctrl <= submit_with_ctrl false
			key * enter?event <=> submit?event null

$mol_icon_chevron_right $mol_icon path \M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z

$mol_number $mol_view
	precision_view <= precision 1
	precision_change <= precision 1
	boost 10
	value_min -Infinity
	value_max +Infinity
	value? +NaN
	enabled true
	plugins /
		<= Hotkey $mol_hotkey
			key *
				down? <=> event_dec? null
				up? <=> event_inc? null
				pageDown? <=> event_dec_boost? null
				pageUp? <=> event_inc_boost? null
	sub /
		<= Dec $mol_button_minor
			event_click? <=> event_dec? null
			enabled <= dec_enabled <= enabled
			sub / <= dec_icon $mol_icon_chevron_left
		<= String $mol_string
			- \ we don't want native number controls in mobile devices
			- \ https://stackoverflow.com/questions/3790935/can-i-hide-the-html5-number-input-s-spin-box
			type <= type \text
			keyboard \decimal
			value? <=> value_string? \
			hint <= hint \ 
			enabled <= string_enabled <= enabled
			submit? <=> submit? null
		<= Inc $mol_button_minor
			event_click? <=> event_inc? null
			enabled <= inc_enabled <= enabled
			sub / <= inc_icon $mol_icon_chevron_right

$apxu_samosbor_map_slider_input $mol_plugin
	x? 0
	y? 0
	delta_x? 0
	delta_y? 0
	-
	on_drag? null
	on_drag_start? null
	on_drag_end? null
	-
	drag? null
	drag_start? null
	drag_end? null
	event *
		^
		pointerdown? <=> pointerdown? null
	attr *
		^
		moving <= moving? false

$apxu_samosbor_map_slider $mol_view
	min_value? -1
	max_value? 1
	value? 0
	value_limited? 0
	step? 1
	direction? \vertical
	Slot* $mol_view
		attr *
			direction <= direction
	sub /
		<= Slots $mol_view
			sub /
				^ visible_slots <= all_slots /$mol_view
		<= Bar $mol_view
			event *
				click? <=> bar_click? null
			sub /
				<= Thumb $mol_view
					plugins /
						<= input_plugin $apxu_samosbor_map_slider_input
							delta_x? => delta_x? 0
							delta_y? <=> delta_y? 0
							on_drag_start? <=> drag_start? null
					style *
						top <= thumb_top 0
					event *
						mousedown? <=> event_mouse_down? null
						mousemove? <=> event_mouse_move? null
						mouseup? <=> event_mouse_up? null
						touchstart? <=> event_touch_start? null
						touchmove? <=> event_touch_move? null
						touchend? <=> event_touch_end? null
					sub /
						<= thumb_content <= value_limited

$apxu_samosbor_map_area $mol_view
	zoom 1
	attr *
		dragging <= isDragging? false
	event *
		wheel? <=> event_wheel? null
		keypress? <=> event_key? null
		mousedown? <=> event_mouse_down? null
		mousemove? <=> event_mouse_move? null
		mouseup? <=> event_mouse_up? null
	sub /$mol_view
		<= Plane $mol_view
			minimal_width 0
			minimal_height 0
			style *
				translate <= position_style \
				scale <= scale_style \
			sub /
				^ items /

$apxu_samosbor_map_block_row $mol_view
	sub / null

$apxu_samosbor_map_block_part $mol_view
	sub /
		<= content null

$apxu_samosbor_map_block_flight $apxu_samosbor_map_block_part

$apxu_samosbor_map_block_passage $mol_view
	type? \normal
	up false
	right false
	down false
	left false
	attr *
		type <= type? \normal
		up <= up
		right <= right
		down <= down
		left <= left
	style *
		flex-direction <= flex_direction \column
	InterFloor $mol_view
		sub /
			<= floor_inc $mol_view
				sub / <= floor_inc_value \0
			<= stairs $apxu_samosbor_map_icon_stairs
	sub /
		<= content null

$apxu_samosbor_map_block_middle_flight $mol_view

$apxu_samosbor_map_block $mol_view
	edit_mode? false
	create_mode? false
	connect_mode? false
	block_data? null
	block_layer? 0
	current_layer? 0
	min_floor? 0
	max_floor? 0
	pos_x? 0
	pos_y? 0
	is_up_flight? false
	is_down_flight? false
	on_connection_select? null
	attr *
		direction <= block_direction? \up
		visible <= visible true
		selected <= selected false
		editing <= edit_mode
		color <= color_letter \b
		block-type <= block_type? \destroyed
	style *
		left <= left? 0
		top <= top? 0
	event *
		click? <=> onclick? null
	Connection* $mol_view
		attr *
			hidden <= connection_hidden* false
			highlight <= connection_highlight* false
		style *
			left <= connection_left* 0
			top <= connection_top* 0
		event *
			click? <=> connection_click*? null
	Transition* $mol_view
		attr *
			hidden <= transition_hidden* false
			direction <= transition_direction* \vertical
		style *
			left <= transition_left* 0
			top <= transition_top* 0
	show_connections? false
	flight_icons* *
		stairs <= stairs_icon* $apxu_samosbor_map_icon_stairs
		elevator <= elevator_icon* $apxu_samosbor_map_icon_elevator
		ladder_elevator <= ladder_elevator* $mol_view
			sub /
				<= ladder_icon* $apxu_samosbor_map_icon_ladder
				<= elevator_icon* $apxu_samosbor_map_icon_elevator
	up_middle_passage $apxu_samosbor_map_block_passage
		type? \noway
		- event *
			click? <=> up_middle_passage_click? null
		up true
	down_middle_passage $apxu_samosbor_map_block_passage
		type? \noway
		- event *
			click? <=> down_middle_passage_click? null
		down true
	up_flight $apxu_samosbor_map_block_middle_flight
		sub /
			<= up_flight_icon $apxu_samosbor_map_icon_stairs
	down_flight $apxu_samosbor_map_block_middle_flight
		sub /
			<= down_flight_icon $apxu_samosbor_map_icon_stairs
	name_part $apxu_samosbor_map_block_part
		sub /
			<= BlockName $mol_view sub / <= block_name? \А-00
			<= CurrentFloor $mol_view 
				sub / 
					\Эт. 
					<= display_floor \?
	info_part $apxu_samosbor_map_block_part
		sub /
			<= Generator $mol_view
				sub /
					<= gen_icon $apxu_samosbor_map_icon_generator
					<= generator_floor $mol_view
						sub / <= generator_floor_value? 0
	liquidator_icon $apxu_samosbor_map_icon_liquidator
	repairman_icon $apxu_samosbor_map_icon_repairman
	cleaner_icon $apxu_samosbor_map_icon_cleaner
	factory_icon $apxu_samosbor_map_icon_factory
	theatre_icon $apxu_samosbor_map_icon_theatre
	party_icon $apxu_samosbor_map_icon_party
	hospital_icon $apxu_samosbor_map_icon_hospital
	warehouse_icon $apxu_samosbor_map_icon_warehouse
	profession_part $apxu_samosbor_map_block_part
		sub /
			<= profession_wrapper $mol_view
				sub /
					<= liquidator_profession null
					<= repairman_profession null
					<= cleaner_profession null
					<= plumber_profession null
	places_part $apxu_samosbor_map_block_part
		sub /
			<= places_wrapper $mol_view
				sub /
					<= theatre_place null
					<= party_place null
					<= hospital_place null
					<= warehouse_place null
	flooded_effect $mol_view
		sub /
			<= flooded_icon $apxu_samosbor_map_icon_sinking
			<= flooded_floor_view $mol_view
				sub / <= flooded_floor <= min_floor
	roof_effect $mol_view
		sub /
			<= roof_icon $apxu_samosbor_map_icon_roof
			<= roof_floor_view $mol_view
				sub / <= roof_floor <= max_floor
	effects_part $apxu_samosbor_map_block_part
		sub /
			<= flooded null
			<= roof null
	sub /
		<= content $mol_view
			sub /
				^ connections_list <= connections /
				^ transitions_list <= transitions /
				<= up_row $apxu_samosbor_map_block_row
					sub /
						<= left_flight $apxu_samosbor_map_block_flight
							event *
								click? <=> left_flight_click? null
							sub /
								<= left_flight_icon
						<= up_left_passage $apxu_samosbor_map_block_passage
							type? <= up_left_passage_type \noway
							event *
								click? <=> up_left_passage_click? null
							up true
							left true
						<= up_left_part <= name_part
						<= up_passage_or_flight $mol_view
						<= up_right_part <= info_part
						<= up_right_passage $apxu_samosbor_map_block_passage
							type <= up_right_passage_type \noway
							event *
								click? <=> up_right_passage_click? null
							up true
							right true
						<= right_flight $apxu_samosbor_map_block_flight
							event *
								click? <=> right_flight_click? null
							sub /
								<= right_flight_icon
				<= middle_row $mol_view
					sub /
						<= left_passage $apxu_samosbor_map_block_passage
							type <= left_passage_type \normal
							event *
								click? <=> left_passage_click? null
							left true
						<= left_crossroad $mol_view
						<= left_hallway $mol_view
						<= fence $mol_view
							attr *
								type <= fence_type? \hole
							event *
								click? <=> fence_click? null
						<= right_hallway $mol_view
						<= right_crossroad $mol_view
						<= right_passage $apxu_samosbor_map_block_passage
							type <= right_passage_type \normal
							event *
								click? <=> right_passage_click? null
							right true
						- <= hallway $mol_view
				<= down_row $apxu_samosbor_map_block_row
					sub /
						<= floor_part $apxu_samosbor_map_block_part
							sub /
								<= max_floor_view $mol_view
									sub /
										<= max_floor_icon $apxu_samosbor_map_icon_max_floor
										<= max_floor_value $mol_view
											sub / <= max_floor 0
								<= min_floor_view $mol_view
									sub /
										<= min_floor_icon $apxu_samosbor_map_icon_min_floor
										<= min_floor_value $mol_view
											sub / <= min_floor 0
						<= down_left_passage $apxu_samosbor_map_block_passage
							type <= down_left_passage_type \noway
							event *
								click? <=> down_left_passage_click? null
							down true
							left true
						<= down_left_part <= profession_part
						<= down_passage_or_flight $mol_view
						<= down_right_part <= places_part
						<= down_right_passage $apxu_samosbor_map_block_passage
							type <= down_right_passage_type \noway
							event *
								click? <=> down_right_passage_click? null
							down true
							right true
						<= effects_part
				

$mol_button_major $mol_button_minor
	theme \$mol_theme_base

$mol_icon_close $mol_icon path \M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z

$mol_icon_pencil $mol_icon path \M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z

$mol_check_icon $mol_check

$mol_icon_trash_can $mol_icon path \M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z

$mol_icon_trash_can_outline $mol_icon path \M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z

$mol_icon_content_copy $mol_icon path \M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z

$mol_icon_map $mol_icon path \M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z

$mol_icon_map_marker $mol_icon path \M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z

$mol_icon_map_marker_path $mol_icon path \M18,15A3,3 0 0,1 21,18A3,3 0 0,1 18,21C16.69,21 15.58,20.17 15.17,19H14V17H15.17C15.58,15.83 16.69,15 18,15M18,17A1,1 0 0,0 17,18A1,1 0 0,0 18,19A1,1 0 0,0 19,18A1,1 0 0,0 18,17M18,8A1.43,1.43 0 0,0 19.43,6.57C19.43,5.78 18.79,5.14 18,5.14C17.21,5.14 16.57,5.78 16.57,6.57A1.43,1.43 0 0,0 18,8M18,2.57A4,4 0 0,1 22,6.57C22,9.56 18,14 18,14C18,14 14,9.56 14,6.57A4,4 0 0,1 18,2.57M8.83,17H10V19H8.83C8.42,20.17 7.31,21 6,21A3,3 0 0,1 3,18C3,16.69 3.83,15.58 5,15.17V14H7V15.17C7.85,15.47 8.53,16.15 8.83,17M6,17A1,1 0 0,0 5,18A1,1 0 0,0 6,19A1,1 0 0,0 7,18A1,1 0 0,0 6,17M6,3A3,3 0 0,1 9,6C9,7.31 8.17,8.42 7,8.83V10H5V8.83C3.83,8.42 3,7.31 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5M11,19V17H13V19H11M7,13H5V11H7V13Z

$apxu_samosbor_map_block_card_number_input $mol_number
	minimal_height 0
	sub /
		<= String

$apxu_samosbor_map_block_card_position_input $apxu_samosbor_map_block_card_number_input
	sub /
		<= String

$apxu_samosbor_map_block_card_flight_button $mol_button_major
	attr *
		^
		edit-mode <= edit_mode? false

$apxu_samosbor_map_block_card $mol_view
	block $apxu_samosbor_map_block
	edit_mode? false
	flight_icons* *
		stairs <= stairs_icon* $apxu_samosbor_map_icon_stairs
		elevator <= elevator_icon* $apxu_samosbor_map_icon_elevator
		ladder_icon <= ladder_icon* $apxu_samosbor_map_icon_ladder
	is_middle_flight? false
	block_direction? \up
	left_flight_view $mol_view
		sub /
			<= left_flight_arrow $apxu_samosbor_map_icon_arrow_left
			^ left_flight_icons /
	middle_flight_view $mol_view
	right_flight_view $mol_view
		sub /
			^ right_flight_icons /
			<= right_flight_arrow $apxu_samosbor_map_icon_arrow_right
	sub /
		<= misc_buttons $mol_view
			sub /
				<= shop_button $mol_button_minor
					sub / <= shop_icon $apxu_samosbor_map_icon_shop
		<= control_buttons $mol_view
			sub /
				<= close_button $mol_button_minor
					sub / <= close_icon $mol_icon_close
					click? <=> close_click? null
				<= edit_button $mol_check_icon
					Icon <= edit_icon $mol_icon_pencil
					checked? <=> edit_mode?
				<= delete_button $mol_button_minor
					sub / <= delete_icon $mol_icon_trash_can_outline
		<= header $mol_view
			sub /
				<= block_info $mol_view
					sub /
						<= name_size $mol_view
							sub /
								<= block_name_input $mol_string
									enabled <= edit_mode
									value? <=> block_name? \Л-96
								<= block_size $mol_view
									sub /
										<= max_floor_view $mol_view
											sub /
												<= max_floor_icon $apxu_samosbor_map_icon_max_floor
												<= max_floor_value $apxu_samosbor_map_block_card_number_input
													enabled <= edit_mode
													value? <=> max_floor? 15
										<= min_floor_view $mol_view
											sub /
												<= min_floor_icon $apxu_samosbor_map_icon_min_floor
												<= min_floor_value $apxu_samosbor_map_block_card_number_input
													enabled <= edit_mode
													value? <=> min_floor? -15
						<= flights $mol_view
							sub /
								<= flight_left_button $apxu_samosbor_map_block_card_flight_button
									edit_mode <= edit_mode 
									sub / <= flight_left_icon $mol_icon_chevron_left
								<= flight_view $mol_view
									sub /
										^ current_flight /
								<= flight_right_button $apxu_samosbor_map_block_card_flight_button
									edit_mode <= edit_mode 
									sub / <= flight_right_icon $mol_icon_chevron_right
				<= block_buttons $mol_view
					sub /
						<= copy_button $mol_button_major
							sub / <= copy_icon $mol_icon_content_copy
							click? <=> copy_click? null
						<= path_button $mol_button_major
							sub / <= path_icon $mol_icon_map_marker_path
							click? <=> path_click? null
		<= position_info $mol_view
			attr *
				edit-mode <= edit_mode
			sub /
				<= coordinates $mol_view
					sub /
						<= pos_x_view $mol_view
							sub /
								\X: 
								<= pos_x_input $apxu_samosbor_map_block_card_position_input
									value? <=> pos_x? -999
						<= pos_y_view $mol_view
							sub /
								\Y: 
								<= pos_y_input $apxu_samosbor_map_block_card_position_input
									value? <=> pos_y? 0
						<= pos_z_view $mol_view
							sub /
								\L: 
								<= pos_z_input $apxu_samosbor_map_block_card_position_input
									value? <=> block_layer? 0
				<= pos_controller $mol_view
					sub /
						<= up_button $mol_button_minor
							sub / <= up_icon $apxu_samosbor_map_icon_arrow_up
							click? <=> move_click*up? null
							minimal_height 18
							minimal_width 18
						<= right_button $mol_button_minor
							sub / <= right_icon $apxu_samosbor_map_icon_arrow_right
							click? <=> move_click*right? null
							minimal_height 18
							minimal_width 18
						<= down_button $mol_button_minor
							sub / <= down_icon $apxu_samosbor_map_icon_arrow_down
							click? <=> move_click*down? null
							minimal_height 18
							minimal_width 18
						<= left_button $mol_button_minor
							sub / <= left_icon $apxu_samosbor_map_icon_arrow_left
							click? <=> move_click*left? null
							minimal_height 18
							minimal_width 18
						<= rotate_button $mol_button_minor
							click? <=> rotate_click? null
							minimal_height 18
							minimal_width 18
							sub / <= rotation_icon $apxu_samosbor_map_icon_direction
								style *
									transform <= rotation \rotate(0deg)
				<= pipe $mol_view
		<= floors_info $mol_view
			sub /
				<= gen_floor_view $mol_view
				<= board_floor_view $mol_view
				<= roof_floor_view $mol_view
				<= flooded_floor_view $mol_view
		<= features $mol_view
			sub /
				<= professions $mol_view
				<= places $mol_view

$apxu_samosbor_map_app $mol_view
	Block* $apxu_samosbor_map_block
		block_data? <= block* null
		current_layer? <= current_layer? 0
		onclick? <=> block_clicked*? null
		on_connection_select? <=> connection_selected*? null
		show_connections true
		create_mode? <= is_create_mode false
		edit_mode? <= is_configure_mode false
		selected <= block_selected* true
		connect_mode? <= is_connect_mode false
	BlockCard* $apxu_samosbor_map_block_card
		block_name? <=> selected_block_name*? \
		max_floor? <=> max_floor*? 0
		min_floor? <=> min_floor*? 0
		close_click? <=> close_click*? null
		pos_x? <=> pos_x_value*? 0
		pos_y? <=> pos_y_value*? 0
		block_layer? <=> layer_value*? 0
		block <= Block*
	Transition* $mol_view
		attr *
			direction <= transition_direction* \vertical
		style *
			left <= transition_left* 0
			top <= transition_top* 0
	sub /
		- <= Access_Panel $mol_card
			sub /
				<= my_key $mol_text_code
					sidebar_showed true
					text <= person_key \
				<= map_rights $hyoo_crus_land_rights
					land <= map_land
		<= Control_Panel $mol_card
			sub /
				<= Control_Switch $mol_switch
					value? <=> control_type? \
					options *
						create \Create Block
						connect \Connect Blocks
						configure \Configure Block
		^ block_cards /$apxu_samosbor_map_block_card
		- <= Block_Form $mol_card
			sub /
				<= name_setting $mol_view
					sub / <= name_input $mol_string
						value? <=> selected_block_name? \
						hint \Block name
				<= type_setting $mol_labeler
					title \Тип блока
					content / <= block_type_switch $mol_switch
						value? <=> block_type_value? \residential
						options *
							residential \Жилой
							destroyed \Разрушенный
							frozen \Замороженный
							abandoned \Заброшенный
							infected \Зараженный
				<= gen_floor_setting $mol_labeler
					title \Этаж генератора
					content / <= gen_setting_number $mol_number
						value? <=> gen_floor? 0
				<= min_floor_setting $mol_labeler
					title \Min floor
					content / <= min_setting_number $mol_number
						value? <=> min_floor? 0
				<= max_floor_setting $mol_labeler
					title \Max floor
					content / <= max_setting_number $mol_number
						value? <=> max_floor? 0
				<= layer_setting $mol_labeler
					title \Zero floor height
					content / <= layer_setting_number $mol_number
						value? <=> layer_value? 0
				<= pos_x_setting $mol_labeler
					title \Position X
					content / <= pos_x_setting_number $mol_number
						value? <=> pos_x_value? 0
				<= pos_y_setting $mol_labeler
					title \Position Y
					content / <= pos_y_setting_number $mol_number
						value? <=> pos_y_value? 0
				<= direction_setting $mol_labeler
					title \Direction
					content / <= direction_switch $mol_switch
						value? <=> direction_value? \up
						options *
							up \Up
							right \Right
							down \Down
							left \Left
				<= up_flight_setting $mol_check_box
					title \Верхний пролет по середине
					checked? <=> up_flight_value? false
				<= down_flight_setting $mol_check_box
					title \Нижний пролет по середине
					checked? <=> down_flight_value? false
				<= delete_block_button $mol_button_minor
					title \Delete block
					click? <=> delete_block? null
		<= Layer_Bar $mol_number
			value? <=> current_layer? 0
		<= Slider_Container $mol_view
			sub /
				<= Layer_Slider $apxu_samosbor_map_slider
					min_value? -19
					max_value? 19
					value? <=> current_layer? 0
		<= Searcher $mol_view
		<= Canvas $mol_view
			sub /
				<= Area $apxu_samosbor_map_area
					style *
						width \100%
						height \100%
					items /
						^ blocks /
						- ^ transitions /
